Sinon.JS test double mixins.

_Source: [lib/sinon-doublist/index.js](../lib/sinon-doublist/index.js)_

- [module.exports](#moduleexports)
- [sinonDoublist](#sinondoublistsinon-test-disableautosandboxfalse)
- [mixin.createSandbox](#mixincreatesandboxsinon)
- [mixin.spyMany](#mixinspymanyobj-methods)
- [mixin.stubMany](#mixinstubmanyobj-methods)
- [mixin.stubWithReturn](#mixinstubwithreturnconfig)

# module.exports()

> Reference to `sinonDoublist()`.

# sinonDoublist(sinon, test, [disableAutoSandbox=false])

> Init sandbox and add its properties to the current context.

**Parameters:**

- `{object} sinon`
- `{string | object} test`
  - `{object}` Current test context, ex. `this` inside a 'before each' hook, to receive the sandbox/mixins
  - `{string}` Name of supported adapter which will automatically set up and tear down the sandbox/mixins
  - Adapters: 'mocha'

- `{boolean} [disableAutoSandbox=false]`
  - `true`: Manually augment `test` later via `test.createSandbox()`
  - `false`: Immediate augment `test` with `spy`, `stub`, etc.

# mixin.createSandbox(sinon)

> Init sandbox and add its properties to the current context.

To restore: `this.sandbox.restore()`

**Parameters:**

- `{object} sinon`

# mixin.spyMany(obj, methods)

> Create a spy for one or more methods.

**Parameters:**

- `{object} obj` Target object
- `{string | array} methods`
  - They do not have to exist, e.g. `obj` may be `{}` for convenience.
  - Accepts `x.y.z` property paths.

**Return:**

`{object}` Stub(s) indexed by method name

# mixin.stubMany(obj, methods)

> Create a stub for one or more methods.

**Parameters:**

- `{object} obj` Target object
- `{string | array} methods`
  - They do not have to exist, e.g. `obj` may be `{}` for convenience.
  - Accepts `x.y.z` property paths.

**Return:**

`{object}` Stub(s) indexed by method name

# mixin.stubWithReturn(config)

> `withArgs()/returns()` combination wrapper with additional features.

**Optional features:**

- Instruct the stub to return an object with one or more spies that you can inspect later.
- Neither the target method(s), nor target object, need to preexist.

**Example use case:**

The test subject is a lib function `foo()` calling `bar()` with expected arguments.
But one of the arguments to `bar()` is the return value of a 3rd method, `baz()`.
`baz()` is irrelevant to this test, so use this helper to stub `baz()` out
of the picture to focus on the `foo()-bar()` relationship.

**Required `config`:**

- `{string} method` Method to stub in `obj` (or new object created on-the-fly)

**Optional `config`:**

- `{object} obj` Target object
- `{array} args` `withArgs()` arguments
- `{string|array} spies` Stub will return an object with spies in these properties.
  - An alternative to setting an explicit `returns`
- `{mixed} returns` Stub returns this value
  - An alternative to returning an object with configured with `spies`

**Parameters:**

- `{object} config` Expected arguments and returned value

**Return:**

`{object}` Properties depend on configuration.

- `{function} returnedSpy` **OR** `{object} returnedSpies`. Depends on whether `spies` is a `string` or `array`.
- `{function} <method>` The created stub(s). The property name(s) will match `method`.
- `{object} target` Input `obj`, or `{}` if `obj` was falsey

_&mdash;generated by [apidox](https://github.com/codeactual/apidox)&mdash;_
